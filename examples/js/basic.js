var pas={},rtl={version:10301,quiet:!1,debug_load_units:!1,debug_rtti:!1,debug:function(){!rtl.quiet&&console&&console.log&&console.log(arguments)},error:function(t){throw rtl.debug("Error: ",t),t},warn:function(t){rtl.debug("Warn: ",t)},checkVersion:function(t){if(rtl.version!=t)throw"expected rtl version "+t+", but found "+rtl.version},hasString:function(t){return rtl.isString(t)&&0<t.length},isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"function"==typeof t},isModule:function(t){return rtl.isObject(t)&&rtl.hasString(t.$name)&&pas[t.$name]===t},isImplementation:function(t){return rtl.isObject(t)&&rtl.isModule(t.$module)&&t.$module.$impl===t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return"object"==typeof t&&null!=t},isString:function(t){return"string"==typeof t},getNumber:function(t){return"number"==typeof t?t:NaN},getChar:function(t){return"string"==typeof t&&1===t.length?t:""},getObject:function(t){return"object"==typeof t||"function"==typeof t?t:null},isPasClass:function(t){return rtl.isObject(t)&&t.hasOwnProperty("$classname")&&rtl.isObject(t.$module)},isPasClassInstance:function(t){return rtl.isObject(t)&&rtl.isPasClass(t.$class)},hexStr:function(t,e){return("000000000000000"+t.toString(16).toUpperCase()).slice(-e)},m_loading:0,m_loading_intf:1,m_intf_loaded:2,m_loading_impl:3,m_initializing:4,m_initialized:5,module:function(t,e,r,n,i){rtl.debug_load_units&&rtl.debug('rtl.module name="'+t+'" intfuses='+e+" impluses="+n+" hasimplcode="+rtl.isFunction(i)),rtl.hasString(t)||rtl.error('invalid module name "'+t+'"'),rtl.isArray(e)||rtl.error('invalid interface useslist of "'+t+'"'),rtl.isFunction(r)||rtl.error('invalid interface code of "'+t+'"'),null==n||rtl.isArray(n)||rtl.error('invalid implementation useslist of "'+t+'"'),null==i||rtl.isFunction(i)||rtl.error('invalid implementation code of "'+t+'"'),pas[t]&&rtl.error('module "'+t+'" is already registered');var l=pas[t]={$name:t,$intfuseslist:e,$impluseslist:n,$state:rtl.m_loading,$intfcode:r,$implcode:i,$impl:null,$rtti:Object.create(rtl.tSectionRTTI)};l.$rtti.$module=l,i&&(l.$impl={$module:l,$rtti:l.$rtti})},exitcode:0,run:function(r){function t(){rtl.hasString(r)||(r="program"),rtl.debug_load_units&&rtl.debug('rtl.run module="'+r+'"'),rtl.initRTTI();var t=pas[r];if(t||rtl.error('rtl.run module "'+r+'" missing'),rtl.loadintf(t),rtl.loadimpl(t),"program"==r){rtl.debug_load_units&&rtl.debug("running $main");var e=pas.program.$main();rtl.isNumber(e)&&(rtl.exitcode=e)}}if(rtl.showUncaughtExceptions)try{t()}catch(t){var e=t.hasOwnProperty("$class")?t.$class.$classname:"";e+=(e?": ":"")+(t.hasOwnProperty("fMessage")?t.fMessage:t),alert("Uncaught Exception : "+e),rtl.exitCode=216}else t();return rtl.exitcode},loadintf:function(t){t.$state>rtl.m_loading_intf||(rtl.debug_load_units&&rtl.debug('loadintf: "'+t.$name+'"'),t.$state===rtl.m_loading_intf&&rtl.error('unit cycle detected "'+t.$name+'"'),t.$state=rtl.m_loading_intf,rtl.loaduseslist(t,t.$intfuseslist,rtl.loadintf),rtl.debug_load_units&&rtl.debug('loadintf: run intf of "'+t.$name+'"'),t.$intfcode(t.$intfuseslist),t.$state=rtl.m_intf_loaded)},loaduseslist:function(t,e,r){if(null!=e)for(var n in e){var i=e[n];rtl.debug_load_units&&rtl.debug('loaduseslist of "'+t.$name+'" uses="'+i+'"'),null==pas[i]&&rtl.error('module "'+t.$name+'" misses "'+i+'"'),r(pas[i])}},loadimpl:function(t){t.$state>=rtl.m_loading_impl||(t.$state<rtl.m_intf_loaded&&rtl.error('loadimpl: interface not loaded of "'+t.$name+'"'),rtl.debug_load_units&&rtl.debug('loadimpl: load uses of "'+t.$name+'"'),t.$state=rtl.m_loading_impl,rtl.loaduseslist(t,t.$impluseslist,rtl.loadintf),rtl.loaduseslist(t,t.$intfuseslist,rtl.loadimpl),rtl.loaduseslist(t,t.$impluseslist,rtl.loadimpl),rtl.debug_load_units&&rtl.debug('loadimpl: run impl of "'+t.$name+'"'),rtl.isFunction(t.$implcode)&&t.$implcode(t.$impluseslist),rtl.debug_load_units&&rtl.debug('loadimpl: run init of "'+t.$name+'"'),t.$state=rtl.m_initializing,rtl.isFunction(t.$init)&&t.$init(),t.$state=rtl.m_initialized)},createCallback:function(t,e){var r;return(r="string"==typeof e?function(){return t[e].apply(t,arguments)}:function(){return e.apply(t,arguments)}).scope=t,r.fn=e,r},cloneCallback:function(t){return rtl.createCallback(t.scope,t.fn)},eqCallback:function(t,e){return t==e||null!=t&&null!=e&&t.fn&&t.scope===e.scope&&t.fn==e.fn},initClass:function(t,e,r,n){((e[r]=t).$class=t).$classname=r,e.$module&&e.$module.$impl===e&&(e=e.$module),t.$parent=e,t.$fullname=e.$name+"."+r,rtl.isModule(e)?(t.$module=e,t.$name=r):(t.$module=e.$module,t.$name=e.name+"."+r),rtl.debug_rtti&&rtl.debug("initClass "+t.$fullname);var i=t.$module.$rtti.$Class(t.$name,{class:t,module:e});t.$rtti=i,rtl.isObject(t.$ancestor)&&(i.ancestor=t.$ancestor.$rtti),i.ancestor||(i.ancestor=null),n.call(t)},createClass:function(t,e,r,n){var i=null;null!=r?(i=Object.create(r)).$ancestor=r:i={$create:function(t,e){null==e&&(e=[]);var r=Object.create(this);r.$init();try{r[t].apply(r,e),r.AfterConstruction()}catch(t){throw r.Destroy&&r.Destroy(),r.$final(),t}return r},$destroy:function(t){this.BeforeDestruction(),this[t]&&this[t](),this.$final()}},rtl.initClass(i,t,e,n)},createClassExt:function(t,e,r,n,i){var l=null;(l=Object.create(r)).$create=function(t,e){null==e&&(e=[]);var r=null;(r=0<n.length?this[n](t,e):Object.create(this)).$init&&r.$init();try{r[t].apply(r,e),r.AfterConstruction&&r.AfterConstruction()}catch(t){throw r.Destroy&&r.Destroy(),r.$final&&this.$final(),t}return r},l.$destroy=function(t){this.BeforeDestruction&&this.BeforeDestruction(),this[t]&&this[t](),this.$final&&this.$final()},rtl.initClass(l,t,e,i)},tObjectDestroy:"Destroy",free:function(t,e){null!=t[e]&&(t[e].$destroy(rtl.tObjectDestroy),t[e]=null)},freeLoc:function(t){if(null!=t)return t.$destroy(rtl.tObjectDestroy),null},is:function(t,e){return e.isPrototypeOf(t)||t===e},isExt:function(t,e,r){return null!=t&&(("object"==typeof e||"function"==typeof e)&&(t===e?1!==r&&(2!==r||rtl.isPasClass(t)):e.isPrototypeOf&&e.isPrototypeOf(t)?1===r?rtl.isPasClassInstance(t):2!==r||rtl.isPasClass(t):"function"==typeof e&&t instanceof e))},Exception:null,EInvalidCast:null,EAbstractError:null,ERangeError:null,raiseE:function(t){var e=rtl[t];if(null==e){var r=pas.SysUtils;r||(r=pas.sysutils),r&&((e=r[t])||(e=r[t.toLowerCase()]),e||(e=r.Exception),e||(e=r.exception))}if(e){if(e.Create)throw e.$create("Create");if(e.create)throw e.$create("create")}if("EInvalidCast"===t)throw"invalid type cast";if("EAbstractError"===t)throw"Abstract method called";if("ERangeError"===t)throw"range error";throw t},as:function(t,e){if(null===t||rtl.is(t,e))return t;rtl.raiseE("EInvalidCast")},asExt:function(t,e,r){if(null===t||rtl.isExt(t,e,r))return t;rtl.raiseE("EInvalidCast")},createInterface:function(t,e,r,n,i,l){var o=i?Object.create(i):{};if((t[e]=o).$module=t,o.$name=e,o.$fullname=t.$name+"."+e,o.$guid=r,o.$guidr=null,o.$names=n||[],rtl.isFunction(l)){rtl.debug_rtti&&rtl.debug("createInterface "+o.$fullname);var a=o.$module.$rtti.$Interface(e,{interface:o,module:t});o.$rtti=a,i&&(a.ancestor=i.$rtti),a.ancestor||(a.ancestor=null),l.call(o)}return o},strToGUIDR:function(r,t){var n=0;function e(t){var e=r.substr(n,t);return n+=t,parseInt(e,16)}n+=1,t.D1=e(8),n+=1,t.D2=e(4),n+=1,t.D3=e(4),n+=1,t.D4||(t.D4=[]),t.D4[0]=e(2),t.D4[1]=e(2),n+=1;for(var i=2;i<8;i++)t.D4[i]=e(2);return t},guidrToStr:function(t){if(t.$intf)return t.$intf.$guid;for(var e=rtl.hexStr,r="{"+e(t.D1,8)+"-"+e(t.D2,4)+"-"+e(t.D3,4)+"-"+e(t.D4[0],2)+e(t.D4[1],2)+"-",n=2;n<8;n++)r+=e(t.D4[n],2);return r+="}"},createTGUID:function(t){var e=pas.System?pas.System.TGuid:pas.system.tguid;return rtl.strToGUIDR(t,new e)},getIntfGUIDR:function(t){if(!t)return null;if(!t.$guidr){var e=rtl.createTGUID(t.$guid);t.hasOwnProperty("$guid")||(t=Object.getPrototypeOf(t)),(e.$intf=t).$guidr=e}return t.$guidr},addIntf:function(t,e,r){function n(t){return"function"==typeof t?function(){return t.apply(this.$o,arguments)}:function(){rtl.raiseE("EAbstractError")}}r||(r={});var i=e,l=Object.create(i);t.hasOwnProperty("$intfmaps")||(t.$intfmaps={}),t.$intfmaps[e.$guid]=l;do{var o=i.$names;if(!o)break;for(var a=0;a<o.length;a++){var s=o[a],u=r[s];u||(u=s),l[s]=n(t[u])}i=Object.getPrototypeOf(i)}while(null!=i)},getIntfG:function(t,e,r){if(!t)return null;var n=t.$intfmaps;if(!n)return null;var i=n[e];if(!i)return null;if("function"==typeof i)return i.call(t);var l=null;if(t.$interfaces&&(l=t.$interfaces[e]),l||(((l=Object.create(i)).$o=t).$interfaces||(t.$interfaces={}),t.$interfaces[e]=l),"object"==typeof r){var o=null;return 0===l.QueryInterface(rtl.getIntfGUIDR(r),{get:function(){return o},set:function(t){o=t}})?o:null}return 2===r&&"com"===l.$kind&&l._AddRef(),l},getIntfT:function(t,e){return rtl.getIntfG(t,e.$guid)},queryIntfT:function(t,e){return rtl.getIntfG(t,e.$guid,e)},queryIntfIsT:function(t,e){var r=rtl.queryIntfG(t,e.$guid);return!!r&&("com"===r.$kind&&r._Release(),!0)},asIntfT:function(t,e){var r=rtl.getIntfG(t,e.$guid);if(null!==r)return r;rtl.raiseEInvalidCast()},intfIsClass:function(t,e){return null!=t&&rtl.is(t.$o,e)},intfAsClass:function(t,e){return null==t?null:rtl.as(t.$o,e)},intfToClass:function(t,e){return null!==t&&rtl.is(t.$o,e)?t.$o:null},intfRefs:{ref:function(t,e){var r=this[t];return r&&(delete this[t],r._Release()),this[t]=e},free:function(){for(var t in this)this.hasOwnProperty(t)&&this[t]._Release()}},createIntfRefs:function(){return Object.create(rtl.intfRefs)},setIntfP:function(t,e,r,n){var i=t[e];i!==r&&(null!==i&&(t[e]=null,i._Release()),null!==r&&(n||r._AddRef(),t[e]=r))},setIntfL:function(t,e,r){return t!==e?(null!==e&&(r||e._AddRef()),null!==t&&t._Release()):r&&null!==t&&t._Release(),e},_AddRef:function(t){return t&&t._AddRef(),t},_Release:function(t){return t&&t._Release(),t},checkMethodCall:function(t,e){rtl.isObject(t)&&rtl.is(t,e)||rtl.raiseE("EInvalidCast")},rc:function(t,e,r){if(Math.floor(t)===t&&e<=t&&t<=r)return t;rtl.raiseE("ERangeError")},rcc:function(t,e,r){if("string"==typeof t&&1===t.length){var n=t.charCodeAt(0);if(e<=n&&n<=r)return t}rtl.raiseE("ERangeError")},rcSetCharAt:function(t,e,r){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),rtl.setCharAt(t,e,r)},rcCharAt:function(t,e){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),t.charAt(e)},rcArrR:function(t,e){if(Array.isArray(t)&&"number"==typeof e&&0<=e&&e<t.length){if(2<arguments.length){t=t[e];for(var r=2;r<arguments.length;r++)t=rtl.rcArrR(t,arguments[r]);return t}return t[e]}rtl.raiseE("ERangeError")},rcArrW:function(t,e,r){for(var n=3;n<arguments.length;n++)t=rtl.rcArrR(t,e),e=arguments[n-1],r=arguments[n];if(Array.isArray(t)&&"number"==typeof e&&0<=e&&e<t.length)return t[e]=r;rtl.raiseE("ERangeError")},length:function(t){return null==t?0:t.length},arraySetLength:function(t,o,a){null==t&&(t=[]);var s=arguments;return function t(e,r){var n=e.length,i=s[r];if(n!==a)if(e.length=a,r===s.length-1)if(rtl.isArray(o))for(var l=n;l<i;l++)e[l]=[];else if(rtl.isFunction(o))for(l=n;l<i;l++)e[l]=new o;else if(rtl.isObject(o))for(l=n;l<i;l++)e[l]={};else for(l=n;l<i;l++)e[l]=o;else for(l=n;l<i;l++)e[l]=[];if(r<s.length-1)for(l=0;l<i;l++)e[l]=t(e[l],r+1);return e}(t,2)},arrayEq:function(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},arrayClone:function(t,e,r,n,i,l){if(rtl.isFunction(t))for(;r<n;r++)i[l++]=new t(e[r]);else if("refSet"===t)for(;r<n;r++)i[l++]=rtl.refSet(e[r]);else for(;r<n;r++)i[l++]=e[r]},arrayConcat:function(t){for(var e=[],r=0,n=1;n<arguments.length;n++){null!==(i=arguments[n])&&(r+=i.length)}e.length=r,r=0;for(n=1;n<arguments.length;n++){var i;null!==(i=arguments[n])&&(rtl.arrayClone(t,i,0,i.length,e,r),r+=i.length)}return e},arrayConcatN:function(){for(var t=null,e=1;e<arguments.length;e++){var r=arguments[e];null!==r&&(t=null===t?r:t.concat(r))}return t},arrayCopy:function(t,e,r,n){if(null===e)return[];r<0&&(r=0),void 0===n&&(n=e.length);var i=r+n;if(i>e.length&&(i=e.length),i<=r)return[];if(0===t)return e.slice(r,i);var l=[];return l.length=i-r,rtl.arrayClone(t,e,r,i,l,0),l},setCharAt:function(t,e,r){return t.substr(0,e)+r+t.substr(e+1)},getResStr:function(t,e){var r=t.$resourcestrings[e];return r.current?r.current:r.org},createSet:function(){for(var t={},e=0;e<arguments.length;e++)if(null!=arguments[e])t[arguments[e]]=!0;else for(var r=arguments[e+=1],n=arguments[e+=1],i=r;i<=n;i++)t[i]=!0;return t},cloneSet:function(t){var e={};for(var r in t)e[r]=!0;return e},refSet:function(t){return Object.defineProperty(t,"$shared",{enumerable:!1,configurable:!0,writable:!0,value:!0}),t},includeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),t[e]=!0,t},excludeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),delete t[e],t},diffSet:function(t,e){var r={};for(var n in t)e[n]||(r[n]=!0);return r},unionSet:function(t,e){var r={};for(var n in t)r[n]=!0;for(var n in e)r[n]=!0;return r},intersectSet:function(t,e){var r={};for(var n in t)e[n]&&(r[n]=!0);return r},symDiffSet:function(t,e){var r={};for(var n in t)e[n]||(r[n]=!0);for(var n in e)t[n]||(r[n]=!0);return r},eqSet:function(t,e){for(var r in t)if(!e[r])return!1;for(var r in e)if(!t[r])return!1;return!0},neSet:function(t,e){return!rtl.eqSet(t,e)},leSet:function(t,e){for(var r in t)if(!e[r])return!1;return!0},geSet:function(t,e){for(var r in e)if(!t[r])return!1;return!0},strSetLength:function(t,e){var r=t.length;if(e<r)return t.substring(0,e);if(t.repeat)return t+" ".repeat(e-r);for(;r<e;)t+=" ",r++;return t},spaceLeft:function(t,e){var r=t.length;if(e<=r)return t;if(t.repeat)return" ".repeat(e-r)+t;for(;r<e;)t=" "+t,r++},floatToStr:function(t,e,r){if(2<arguments.length)return rtl.spaceLeft(t.toFixed(r),e);var n="",i=Math.abs(t);i<1e10?n="00":i<1e100&&(n="0"),arguments.length<2?e=9:e<9&&(e=9);r=e-8;var l=(0<t?" ":"")+t.toExponential(r);return l=l.replace(/e(.)/,"E$1"+n),rtl.spaceLeft(l,e)},valEnum:function(t,e,r){for(var n in t=t.toLowerCase(),e)if("string"==typeof n&&n.toLowerCase()===t)return r(0),e[n];return r(1),0},initRTTI:function(){function l(t,e,r){r||(r=rtl.tTypeInfo),rtl.debug_rtti&&rtl.debug('initRTTI.newBaseTI "'+t+'" '+e+' ("'+r.name+'")');var n=Object.create(r);return n.name=t,n.kind=e,rtl[t]=n}function t(t,e,r,n){var i=l(t,1,rtl.tTypeInfoInteger);return i.minvalue=e,i.maxvalue=r,i.ordtype=n,i}function e(t,e){var r=Object.create(rtl.tTypeMember);r.name=t,r.kind=e,rtl[t]=r}rtl.debug_rtti&&rtl.debug("initRTTI"),rtl.tTypeInfo={name:"tTypeInfo"},l("tTypeInfoInteger",1),t("shortint",-128,127,0),t("byte",0,255,1),t("smallint",-32768,32767,2),t("word",0,65535,3),t("longint",-2147483648,2147483647,4),t("longword",0,4294967295,5),t("nativeint",-4503599627370496,0xfffffffffffff,6),t("nativeuint",0,0xfffffffffffff,7),l("char",2),l("string",3),l("tTypeInfoEnum",4,rtl.tTypeInfoInteger),l("tTypeInfoSet",5),l("double",6),l("boolean",7),l("tTypeInfoProcVar",8),l("tTypeInfoMethodVar",9,rtl.tTypeInfoProcVar),l("tTypeInfoArray",10),l("tTypeInfoDynArray",11),l("tTypeInfoPointer",15),l("pointer",15,rtl.tTypeInfoPointer).reftype=null,l("jsvalue",16),l("tTypeInfoRefToProcVar",17,rtl.tTypeInfoProcVar),rtl.tTypeMember={},e("tTypeMemberField",1),e("tTypeMemberMethod",2),e("tTypeMemberProperty",3),rtl.tTypeMembers={};var r=l("tTypeInfoStruct",0);r.$addMember=function(t,e,r){if(rtl.debug_rtti){if(!rtl.hasString(t)||"$"===t.charAt())throw'invalid member "'+t+'", this="'+this.name+'"';if(!rtl.is(e,rtl.tTypeMember))throw'invalid ancestor "'+e+":"+e.name+'", "'+this.name+"."+t+'"';if(null!=r&&"object"!=typeof r)throw'invalid options "'+r+'", "'+this.name+"."+t+'"'}var n=Object.create(e);if(n.name=t,this.members[t]=n,this.names.push(t),rtl.isObject(r))for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n},r.addField=function(t,e,r){var n=this.$addMember(t,rtl.tTypeMemberField,r);if(rtl.debug_rtti&&!rtl.is(e,rtl.tTypeInfo))throw'invalid type "'+e+'", "'+this.name+"."+t+'"';return n.typeinfo=e,this.fields.push(t),n},r.addFields=function(){for(var t=0;t<arguments.length;){var e=arguments[t++],r=arguments[t++];t<arguments.length&&"object"==typeof arguments[t]?this.addField(e,r,arguments[t++]):this.addField(e,r)}},r.addMethod=function(t,e,r,n,i){var l=this.$addMember(t,rtl.tTypeMemberMethod,i);return l.methodkind=e,l.procsig=rtl.newTIProcSig(r),l.procsig.resulttype=n||null,this.methods.push(t),l},r.addProperty=function(t,e,r,n,i,l){var o=this.$addMember(t,rtl.tTypeMemberProperty,l);return o.flags=e,o.typeinfo=r,o.getter=n,o.setter=i,rtl.isArray(o.params)&&(o.params=rtl.newTIParams(o.params)),this.properties.push(t),rtl.isString(o.stored)||(o.stored=""),o},r.getField=function(t){return this.members[this.fields[t]]},r.getMethod=function(t){return this.members[this.methods[t]]},r.getProperty=function(t){return this.members[this.properties[t]]},l("tTypeInfoRecord",12,rtl.tTypeInfoStruct),l("tTypeInfoClass",13,rtl.tTypeInfoStruct),l("tTypeInfoClassRef",14),l("tTypeInfoInterface",15,rtl.tTypeInfoStruct)},tSectionRTTI:{$module:null,$inherited:function(t,e,r){rtl.debug_rtti&&rtl.debug('tSectionRTTI.newTI "'+(this.$module?this.$module.$name:"(no module)")+'"."'+t+'" ('+e.name+") "+(r?"init":"forward"));var n=this[t];if(n){if(!n.$forward)throw'duplicate type "'+t+'"';if(!e.isPrototypeOf(n))throw'typeinfo ancestor mismatch "'+t+'" ancestor="'+e.name+'" t.name="'+n.name+'"'}else(n=Object.create(e)).name=t,n.$module=this.$module,this[t]=n;if(r)for(var i in delete n.$forward,r)r.hasOwnProperty(i)&&(n[i]=r[i]);else n.$forward=!0;return n},$Scope:function(t,e,r){var n=this.$inherited(t,e,r);return n.members={},n.names=[],n.fields=[],n.methods=[],n.properties=[],n},$TI:function(t,e,r){var n=this.$inherited(t,rtl.tTypeInfo,r);return n.kind=e,n},$Int:function(t,e){return this.$inherited(t,rtl.tTypeInfoInteger,e)},$Enum:function(t,e){return this.$inherited(t,rtl.tTypeInfoEnum,e)},$Set:function(t,e){return this.$inherited(t,rtl.tTypeInfoSet,e)},$StaticArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoArray,e)},$DynArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoDynArray,e)},$ProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoProcVar,e)},$RefToProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoRefToProcVar,e)},$MethodVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoMethodVar,e)},$Record:function(t,e){return this.$Scope(t,rtl.tTypeInfoRecord,e)},$Class:function(t,e){return this.$Scope(t,rtl.tTypeInfoClass,e)},$ClassRef:function(t,e){return this.$inherited(t,rtl.tTypeInfoClassRef,e)},$Pointer:function(t,e){return this.$inherited(t,rtl.tTypeInfoPointer,e)},$Interface:function(t,e){return this.$Scope(t,rtl.tTypeInfoInterface,e)}},newTIParam:function(t){return{name:t[0],typeinfo:t[1],flags:rtl.isNumber(t[2])?t[2]:0}},newTIParams:function(t){var e=[];if(rtl.isArray(t))for(var r=0;r<t.length;r++)e.push(rtl.newTIParam(t[r]));return e},newTIProcSig:function(t,e,r){return{params:rtl.newTIParams(t),resulttype:e,flags:r}}};rtl.module("System",[],function(){"use strict";rtl.createClass(this,"TObject",null,function(){this.$init=function(){},this.$final=function(){},this.Create=function(){},this.AfterConstruction=function(){},this.BeforeDestruction=function(){}}),this.$init=function(){rtl.exitcode=0}}),rtl.module("JS",["System"],function(){"use strict"}),rtl.module("Web",["System","JS"],function(){"use strict"}),rtl.module("SysUtils",["System","JS"],function(){"use strict";var t=this;rtl.createClass(t,"TFormatSettings",pas.System.TObject,function(){}),this.FormatSettings=null,t.$init=function(){t.FormatSettings=t.TFormatSettings.$create("Create")}}),rtl.module("jsPDF",["System","JS","SysUtils"],function(){"use strict"}),rtl.module("program",["System","Web","jsPDF"],function(){"use strict";var e=this;this.doc=null,this.opt="",this.edSelExample=null,this.btDownload=null,this.ebPreview=null,this.edSelExampleChange=function(){e.doc=new jsPDF,e.opt=e.edSelExample.value;var t=e.opt;"hello"===t?e.doc.text("Hello world. I love TjsPDF! :-)",10,10):"font"===t?(e.doc.text("This is the default font.",20,20),e.doc.setFont("courier"),e.doc.setFontStyle("normal"),e.doc.text("This is courier normal.",20,30),e.doc.setFont("times"),e.doc.setFontStyle("italic"),e.doc.text("This is times italic.",20,40),e.doc.setFont("helvetica"),e.doc.setFontStyle("bold"),e.doc.text("This is helvetica bold.",20,50),e.doc.setFont("courier"),e.doc.setFontStyle("bolditalic"),e.doc.text("This is courier bolditalic.",20,60),e.doc.setFont("times"),e.doc.setFontStyle("normal"),e.doc.text("This is centred text.",105,80,null,null,"center"),e.doc.text("And a little bit more underneath it.",105,90,null,null,"center"),e.doc.text("This is right aligned text",200,100,null,null,"right"),e.doc.text("And some more",200,110,null,null,"right"),e.doc.text("Back to left",20,120),e.doc.text("10 degrees rotated",20,140,null,10),e.doc.text("-10 degrees rotated",20,160,null,-10)):"two_page"===t?(e.doc.text("Hello world!",20,20),e.doc.text("This is client-side Javascript, pumping out a PDF.",20,30),e.doc.addPage("l","a6"),e.doc.text("Do you like that?",20,20)):"circles"===t?(e.doc.ellipse(40,20,10,5,"S"),e.doc.setFillColor(0,0,255,0),e.doc.ellipse(80,20,10,5,"F"),e.doc.setLineWidth(1),e.doc.setDrawColor(0,0,0,0),e.doc.setFillColor(255,0,0,0),e.doc.circle(120,20,5,"FD")):"lines"===t?(e.doc.line(20,20,60,20),e.doc.setLineWidth(.5),e.doc.line(20,25,60,25),e.doc.setLineWidth(1),e.doc.line(20,30,60,30),e.doc.setLineWidth(1.5),e.doc.line(20,35,60,35),e.doc.setDrawColor(255,0,0,0),e.doc.setLineWidth(.1),e.doc.line(100,20,100,60),e.doc.setLineWidth(.5),e.doc.line(105,20,105,60),e.doc.setLineWidth(1),e.doc.line(110,20,110,60),e.doc.setLineWidth(1.5),e.doc.line(115,20,115,60)):"rectangles"===t?(e.doc.rect(20,20,10,10,"S"),e.doc.rect(40,20,10,10,"F"),e.doc.setDrawColor(255,0,0,0),e.doc.rect(60,20,10,10,"S"),e.doc.setDrawColor(255,0,0,0),e.doc.rect(80,20,10,10,"FD"),e.doc.setDrawColor(0,0,0,0),e.doc.setFillColor(255,0,0,0),e.doc.rect(100,20,10,10,"F"),e.doc.setDrawColor(0,0,0,0),e.doc.setFillColor(255,0,0,0),e.doc.rect(120,20,10,10,"FD"),e.doc.setDrawColor(0,0,0,0),e.doc.setFillColor(255,255,255,0),e.doc.roundedRect(140,20,10,10,3,3,"FD")):"triangles"===t&&(e.doc.triangle(60,100,60,120,80,110,"FD"),e.doc.setLineWidth(1),e.doc.setDrawColor(255,0,0,0),e.doc.setFillColor(0,0,255,0),e.doc.triangle(100,100,110,100,120,130,"FD")),e.ebPreview.src=e.doc.output("bloburi",null),e.btDownload.disabled=""===e.opt},this.btDownloadClick=function(){e.doc.save(e.opt+".pdf",null)},e.$main=function(){e.edSelExample=document.getElementById("edSelExample"),e.edSelExample.addEventListener("change",e.edSelExampleChange),e.btDownload=document.getElementById("btDownload"),e.btDownload.addEventListener("click",e.btDownloadClick),e.ebPreview=document.getElementById("ebPreview")}});